# Debounce Service ‚Äî API Reference

## –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å

```javascript
import { debounce } from '../modia/services/debounce.js';

const debouncedFn = debounce(func, wait = 300, immediate = false);
```

## –§—É–Ω–∫—Ü–∏—è `debounce()`

### –°–∏–≥–Ω–∞—Ç—É—Ä–∞

```javascript
export function debounce(func, wait = 300, immediate = false)
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|--------------|----------|
| `func` | Function | ‚úÖ –î–∞ | ‚Äî | –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–ª–æ–∂–µ–Ω–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ |
| `wait` | number | ‚ùå –ù–µ—Ç | `300` | –í—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö |
| `immediate` | boolean | ‚ùå –ù–µ—Ç | `false` | –†–µ–∂–∏–º –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ |

### –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ

| –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----|----------|
| Function | –î–µ–±–∞—É–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è-–æ–±—ë—Ä—Ç–∫–∞ |

### –ü–æ–≤–µ–¥–µ–Ω–∏–µ

| –†–µ–∂–∏–º | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|
| `immediate = false` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) | –§—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø–∞—É–∑—ã –±–µ–∑ –Ω–æ–≤—ã—Ö –≤—ã–∑–æ–≤–æ–≤ |
| `immediate = true` | –§—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—ã–∑–æ–≤–µ, –∑–∞—Ç–µ–º –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è –¥–æ –∫–æ–Ω—Ü–∞ –ø–∞—É–∑—ã |

### –ü—Ä–∏–º–µ—Ä—ã

```javascript
// –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const handler = debounce(() => {
  console.log('–í—ã–∑–æ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω');
}, 300);

handler();  // ‚Üí —á–µ—Ä–µ–∑ 300–º—Å

// –° —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
const obj = {
  name: 'Test',
  method: debounce(function() {
    console.log(this.name);
  }, 300)
};

obj.method();  // ‚Üí 'Test' —á–µ—Ä–µ–∑ 300–º—Å

// –° –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏
const logger = debounce((msg, count) => {
  console.log(msg, count);
}, 300);

logger('–°–æ–æ–±—â–µ–Ω–∏–µ', 42);  // ‚Üí '–°–æ–æ–±—â–µ–Ω–∏–µ 42' —á–µ—Ä–µ–∑ 300–º—Å
```

## üîÑ –ü–æ–≤–µ–¥–µ–Ω–∏–µ –æ–±—ë—Ä—Ç–∫–∏

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

```javascript
const obj = {
  value: 100,
  getValue: debounce(function() {
    return this.value;  // this === obj
  }, 300)
};
```

### –ü–µ—Ä–µ–¥–∞—á–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤

```javascript
const handler = debounce((a, b, c) => {
  console.log(a, b, c);
}, 300);

handler(1, 2, 3);  // ‚Üí 1, 2, 3
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

```javascript
const handler = debounce(() => {
  throw new Error('–¢–µ—Å—Ç');
}, 300);

handler();
// ‚Üí –û—à–∏–±–∫–∞ –ª–æ–≥–≥–∏—Ä—É–µ—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å
// ‚Üí –¢–∞–π–º–µ—Ä –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

| –ó–∞–º–µ—á–∞–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|----------|
| –ù–µ —è–≤–ª—è–µ—Ç—Å—è throttle | `debounce` –∂–¥—ë—Ç –æ–∫–æ–Ω—á–∞–Ω–∏—è —Å–µ—Ä–∏–∏ –≤—ã–∑–æ–≤–æ–≤, `throttle` –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç —á–∞—Å—Ç–æ—Ç—É |
| –ù–µ—Ç –æ—Ç–º–µ–Ω—ã –≤—ã–∑–æ–≤–∞ | –í —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ |
| –û—à–∏–±–∫–∏ –Ω–µ –ø—Ä–µ—Ä—ã–≤–∞—é—Ç —Ç–∞–π–º–µ—Ä | –ò—Å–∫–ª—é—á–µ–Ω–∏—è –≤ `func` –ª–æ–≥–≥–∏—Ä—É—é—Ç—Å—è, –Ω–æ –Ω–µ –ª–æ–º–∞—é—Ç —Ä–∞–±–æ—Ç—É |

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å lodash.debounce

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | Modia debounce | lodash.debounce |
|----------------|----------------|-----------------|
| –ü–∞—Ä–∞–º–µ—Ç—Ä –∑–∞–¥–µ—Ä–∂–∫–∏ | `wait` | `wait` |
| –ü–∞—Ä–∞–º–µ—Ç—Ä immediate | ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è | ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è |
| –ú–µ—Ç–æ–¥ `cancel()` | ‚ùå –ù–µ—Ç | ‚úÖ –ï—Å—Ç—å |
| –ú–µ—Ç–æ–¥ `flush()` | ‚ùå –ù–µ—Ç | ‚úÖ –ï—Å—Ç—å |
| –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ | –ù–µ—Ç | lodash |
| –†–∞–∑–º–µ—Ä | ~1 –ö–ë | ~4 –ö–ë |

## üîí –ü—Ä–∞–≤–∏–ª–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

| –ü—Ä–∞–≤–∏–ª–æ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —è–≤–Ω–æ | `import { debounce } from '../services/debounce.js'` |
| –ù–µ –Ω–∞–∑–Ω–∞—á–∞—Ç—å –Ω–∞ `window` | –°–µ—Ä–≤–∏—Å –Ω–µ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –≥–ª–æ–±–∞–ª—å–Ω–æ |
| –ù–µ —Å–º–µ—à–∏–≤–∞—Ç—å —Å throttle | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –¥–ª—è –æ—Ç–ª–æ–∂–µ–Ω–Ω–æ–π —Ä–µ–∞–∫—Ü–∏–∏ |

## üìö –°–≤—è–∑–∞–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| [`docs/service/debounce.md`](../../docs/service/debounce.md) | User Guide (–ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è) |
| [`docs/service/logger.md`](../logger.md) | Logger Service |
| [`CONTRIBUTING.md`](../../CONTRIBUTING.md) | –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ |
