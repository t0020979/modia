# üß± BaseComponent ‚Äî –∫–æ–Ω—Ç—Ä–∞–∫—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ Modia

–ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ Modia —Å–ª–µ–¥—É–µ—Ç –µ–¥–∏–Ω–æ–º—É –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É, —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:
- –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é,
- –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ `data-*`,
- —Ä–µ–∞–∫—Ü–∏—é –Ω–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–µ,
- –∏–∑–æ–ª—è—Ü–∏—é –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ—Å—Ç—å.

---

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç ‚Äî —ç—Ç–æ –∫–ª–∞—Å—Å, –Ω–∞—Å–ª–µ–¥—É–µ–º—ã–π –æ—Ç [`BaseComponent`](https://github.com/t0020979/modia/blob/main/frontend/packs/modia/core.js).

–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã:

```js
// packs/modia/components/my_component.js
import { BaseComponent } from '../core.js';

export class MyComponent extends BaseComponent {
  static componentName = 'my-component'; // ‚Üê —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å data-component="my-component"

  constructor(element) {
    super(element); // –ø–∞—Ä—Å–∏—Ç data-component-* ‚Üí this.config
    // –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏—è
    this.$el.on('click', this.handleClick.bind(this));
  }

  // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
  onStateChange(newState) {
    // –æ–±–Ω–æ–≤–∏—Ç—å UI –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç newState
  }

  // –°–≤–æ–∏ –º–µ—Ç–æ–¥—ã
  handleClick(event) { /* ... */ }
}
```

---

## üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É

| –≠–ª–µ–º–µ–Ω—Ç | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|----------------|--------|
| `static componentName` | ‚úÖ –î–∞ | –ò–º—è, —Å–æ–≤–ø–∞–¥–∞—é—â–µ–µ —Å `data-component="..."` |
| –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –æ—Ç `BaseComponent` | ‚úÖ –î–∞ | –î–ª—è –µ–¥–∏–Ω–æ–π –ª–æ–≥–∏–∫–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ |
| –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Å `super(element)` | ‚úÖ –î–∞ | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–∞—Ä—Å–∏—Ç `data-component-*` –≤ `this.config` |
| –°–∞–º–æ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è | ‚úÖ –î–∞ | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç **—Å–∞–º** –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ —Å–æ–±—ã—Ç–∏—è, –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –≤–Ω–µ—à–Ω–µ–≥–æ –≤—ã–∑–æ–≤–∞ |
| –ò–∑–æ–ª—è—Ü–∏—è | ‚úÖ –î–∞ | –†–∞–±–æ—Ç–∞–µ—Ç **—Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ —Å–≤–æ–µ–≥–æ –∫–æ—Ä–Ω—è** (`this.$el`) |

---

## üß© –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ `data-*`

HTML:
```html
<div 
  data-component="my-component"
  data-component-title="Hello"
  data-component-is-active="true"
  data-component-retries="3">
</div>
```

JS (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏):
```js
this.config === {
  title: "Hello",
  isActive: true,
  retries: 3
}
```

> üí° –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ:  
> - `data-component-is-active="true"` ‚Üí `isActive: true`  
> - `data-component-retries="3"` ‚Üí `retries: 3`

---

## üîÑ –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª

1. **–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ**: `ComponentScanner` –Ω–∞—Ö–æ–¥–∏—Ç –≤—Å–µ `[data-component]`.
2. **–°–æ–∑–¥–∞–Ω–∏–µ**: –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `new MyComponent(el)`.
3. **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è**: –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ `Container` (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è).
4. **–†–∞–±–æ—Ç–∞**: –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∂–∏–≤—ë—Ç —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ, —Å–ª—É—à–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è, –æ–±–Ω–æ–≤–ª—è–µ—Ç UI.

---

## üß™ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π HTML

–ï—Å–ª–∏ –∫–æ–Ω—Ç–µ–Ω—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ (AJAX, Turbolinks):

```js
// –ü–æ—Å–ª–µ –≤—Å—Ç–∞–≤–∫–∏ HTML:
Modia.scan(containerElement);
```

‚Üí –ù–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è, —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ ‚Äî –Ω–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—é—Ç—Å—è.

---

## üìÅ –†–∞–∑–º–µ—â–µ–Ω–∏–µ

–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã ‚Äî –≤ –∫–∞—Ç–∞–ª–æ–≥–µ:
```
frontend/packs/modia/components/
```

–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è ‚Äî –≤ [`modia/index.js`](https://github.com/t0020979/modia/blob/main/frontend/packs/modia/index.js):

```js
import { MyComponent } from './components/my_component.js';
ComponentScanner.register(MyComponent);
```

---

> ‚ú® **–ü—Ä–∏–Ω—Ü–∏–ø**: –∫–æ–º–ø–æ–Ω–µ–Ω—Ç ‚Äî —Å–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è "–∫–∞–ø—Å—É–ª–∞" UI-–ª–æ–≥–∏–∫–∏.  
> –û–Ω –Ω–µ –∑–Ω–∞–µ—Ç –æ –¥—Ä—É–≥–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö, –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –≤–Ω–µ—à–Ω–µ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É "–ø–æ–¥–∫–ª—é—á–∏–ª ‚Äî –∑–∞—Ä–∞–±–æ—Ç–∞–ª–æ".
