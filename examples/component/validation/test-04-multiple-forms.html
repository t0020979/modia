<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Modia ‚Äî –¢–µ—Å—Ç ValidationComponent (–ù–µ—Å–∫–æ–ª—å–∫–æ —Ñ–æ—Ä–º)</title>

  <!-- ‚úÖ jQuery CDN (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û) -->
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

  <!-- ‚úÖ Bootstrap 4 CDN -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">

  <!-- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã CSS (2 —É—Ä–æ–≤–Ω—è –≤–≤–µ—Ä—Ö) -->
  <link rel="stylesheet" href="../../examples.css">

  <!-- ‚úÖ Modia CSS (—Å–∫—Ä—ã–≤–∞–µ—Ç —à–∞–±–ª–æ–Ω—ã –æ—à–∏–±–æ–∫) -->
  <link rel="stylesheet" href="../../../modia/modia.css">

  <style>
    .test-form {
      max-width: 500px;
      margin: 20px 0;
      padding: 20px;
      border: 1px solid #ddd;
      border-radius: 5px;
    }

    .form-status {
      margin-top: 15px;
      padding: 10px;
      border-radius: 3px;
      font-weight: 500;
    }

    .form-status.success {
      background: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
    }

    .form-status.error {
      background: #f8d7da;
      color: #721c24;
      border: 1px solid #f5c6cb;
    }

    .form-status.pending {
      background: #fff3cd;
      color: #856404;
      border: 1px solid #ffeeba;
    }

    .console-log-container {
      position: relative;
    }

    .btn-copy-log {
      position: absolute;
      top: 5px;
      right: 5px;
      padding: 2px 8px;
      font-size: 11px;
      z-index: 10;
    }

    .form-comparison {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
    }

    .form-comparison>div {
      flex: 1;
      min-width: 250px;
    }
  </style>
</head>

<body>
  <div class="container mt-5">
    <h1>üß™ –¢–µ—Å—Ç ValidationComponent</h1>
    <p class="text-muted">–ù–µ—Å–∫–æ–ª—å–∫–æ —Ñ–æ—Ä–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ ‚Äî –Ω–µ–∑–∞–≤–∏—Å–∏–º–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è</p>

    <!-- ============================================================ -->
    <!-- –°–ï–ö–¶–ò–Ø 1: –î–≤–µ —Ñ–æ—Ä–º—ã –Ω–∞ –æ–¥–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ -->
    <!-- ============================================================ -->
    <div class="test-section">
      <h3>üìç –°–µ–∫—Ü–∏—è 1: –î–≤–µ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ —Ñ–æ—Ä–º—ã</h3>

      <div class="expected-result">
        <h4>‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:</h4>
        <ul>
          <li>–ö–∞–∂–¥–∞—è —Ñ–æ—Ä–º–∞ –∏–º–µ–µ—Ç —Å–≤–æ–π —ç–∫–∑–µ–º–ø–ª—è—Ä ValidationComponent</li>
          <li>–û—à–∏–±–∫–∏ –≤ –æ–¥–Ω–æ–π —Ñ–æ—Ä–º–µ –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ –¥—Ä—É–≥—É—é</li>
          <li>–û—Ç–ø—Ä–∞–≤–∫–∞ –æ–¥–Ω–æ–π —Ñ–æ—Ä–º—ã –Ω–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç –¥—Ä—É–≥—É—é</li>
          <li>–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—Ç –º–µ–∂–¥—É —Å–æ–±–æ–π</li>
        </ul>
      </div>

      <div class="instruction-box">
        <strong>üìã –†—É—á–Ω–æ–π —Ç–µ—Å—Ç:</strong><br>
        1. –û—Å—Ç–∞–≤—å—Ç–µ –ø–æ–ª—è –≤ –§–æ—Ä–º–µ 1 –ø—É—Å—Ç—ã–º–∏ ‚Üí –Ω–∞–∂–º–∏—Ç–µ ¬´–û—Ç–ø—Ä–∞–≤–∏—Ç—å¬ª ‚Üí –æ—à–∏–±–∫–∞ —Ç–æ–ª—å–∫–æ –≤ –§–æ—Ä–º–µ 1<br>
        2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –§–æ—Ä–º—É 2 ‚Üí –Ω–∞–∂–º–∏—Ç–µ ¬´–û—Ç–ø—Ä–∞–≤–∏—Ç—å¬ª ‚Üí —É—Å–ø–µ—Ö —Ç–æ–ª—å–∫–æ –≤ –§–æ—Ä–º–µ 2<br>
        3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å—Ç–∞—Ç—É—Å—ã —Ñ–æ—Ä–º –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ
      </div>

      <div class="form-comparison">
        <!-- –§–æ—Ä–º–∞ 1 -->
        <div>
          <h5>üîµ –§–æ—Ä–º–∞ 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h5>
          <form id="form-registration" data-component="validation" class="test-form">
            <div class="form-group">
              <label for="reg-email">Email *</label>
              <input type="email" id="reg-email" name="email" class="form-control" required>
            </div>
            <div class="form-group">
              <label for="reg-password">–ü–∞—Ä–æ–ª—å *</label>
              <input type="password" id="reg-password" name="password" class="form-control" required minlength="6">
            </div>
            <div class="error-templates">
              <span class="text-danger" data-rule="required">–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ</span>
              <span class="text-danger" data-rule="minlength">–ú–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤</span>
            </div>
            <button type="submit" class="btn btn-primary btn-sm">üìù –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å</button>
          </form>
          <div id="form-registration-status" class="form-status pending">–°—Ç–∞—Ç—É—Å: –û–∂–∏–¥–∞–Ω–∏–µ...</div>
        </div>

        <!-- –§–æ—Ä–º–∞ 2 -->
        <div>
          <h5>üü¢ –§–æ—Ä–º–∞ 2: –í—Ö–æ–¥</h5>
          <form id="form-login" data-component="validation" class="test-form">
            <div class="form-group">
              <label for="login-email">Email *</label>
              <input type="email" id="login-email" name="email" class="form-control" required>
            </div>
            <div class="form-group">
              <label for="login-password">–ü–∞—Ä–æ–ª—å *</label>
              <input type="password" id="login-password" name="password" class="form-control" required>
            </div>
            <div class="error-templates">
              <span class="text-danger" data-rule="required">–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ</span>
            </div>
            <button type="submit" class="btn btn-success btn-sm">üîê –í–æ–π—Ç–∏</button>
          </form>
          <div id="form-login-status" class="form-status pending">–°—Ç–∞—Ç—É—Å: –û–∂–∏–¥–∞–Ω–∏–µ...</div>
        </div>
      </div>

      <!-- –ö–Ω–æ–ø–∫–∏ –∞–≤—Ç–æ-—Ç–µ—Å—Ç–∞ -->
      <div class="test-buttons mt-3">
        <button class="btn btn-success" id="btn-auto-test-section-1">
          ‚ñ∂Ô∏è –ê–≤—Ç–æ-—Ç–µ—Å—Ç —Å–µ–∫—Ü–∏–∏ 1
        </button>
      </div>

      <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∞ -->
      <div id="test-result-1" class="test-result pending">
        –û–∂–∏–¥–∞–Ω–∏–µ...
      </div>
    </div>

    <!-- ============================================================ -->
    <!-- –°–ï–ö–¶–ò–Ø 2: –§–æ—Ä–º–∞ + –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (div) –Ω–∞ –æ–¥–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ -->
    <!-- ============================================================ -->
    <div class="test-section">
      <h3>üìç –°–µ–∫—Ü–∏—è 2: –§–æ—Ä–º–∞ + –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (div) –≤–º–µ—Å—Ç–µ</h3>

      <div class="expected-result">
        <h4>‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:</h4>
        <ul>
          <li>–ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ form –∏ –Ω–∞ div –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ</li>
          <li>–í–∞–ª–∏–¥–∞—Ü–∏—è –≤ div –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–æ—Ä–º—É</li>
          <li>–û—à–∏–±–∫–∏ –≤ div –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ —Ñ–æ—Ä–º—É</li>
          <li>–û–±–∞ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã</li>
        </ul>
      </div>

      <div class="instruction-box">
        <strong>üìã –†—É—á–Ω–æ–π —Ç–µ—Å—Ç:</strong><br>
        1. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É ‚Üí –Ω–∞–∂–º–∏—Ç–µ ¬´–û—Ç–ø—Ä–∞–≤–∏—Ç—å¬ª ‚Üí –≤–∞–ª–∏–¥–∞—Ü–∏—è + –æ—Ç–ø—Ä–∞–≤–∫–∞<br>
        2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä ‚Üí –Ω–∞–∂–º–∏—Ç–µ ¬´–°–æ—Ö—Ä–∞–Ω–∏—Ç—å¬ª ‚Üí —Ç–æ–ª—å–∫–æ –≤–∞–ª–∏–¥–∞—Ü–∏—è<br>
        3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å —Å—Ç–∞—Ç—É—Å–æ–≤
      </div>

      <div class="form-comparison">
        <!-- –§–æ—Ä–º–∞ -->
        <div>
          <h5>üîµ –§–æ—Ä–º–∞ (submit)</h5>
          <form id="form-regular" data-component="validation" class="test-form">
            <div class="form-group">
              <label for="form-name">–ò–º—è *</label>
              <input type="text" id="form-name" name="name" class="form-control" required>
            </div>
            <div class="error-templates">
              <span class="text-danger" data-rule="required">–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ</span>
            </div>
            <button type="submit" class="btn btn-primary btn-sm">üìù –û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
          </form>
          <div id="form-regular-status" class="form-status pending">–°—Ç–∞—Ç—É—Å: –û–∂–∏–¥–∞–Ω–∏–µ...</div>
        </div>

        <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä (–Ω–µ —Ñ–æ—Ä–º–∞) -->
        <div>
          <h5>üü¢ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä (div + button)</h5>
          <div id="container-modal" data-component="validation" class="test-form">
            <div class="form-group">
              <label for="modal-name">–ò–º—è *</label>
              <input type="text" id="modal-name" name="name" class="form-control" required>
            </div>
            <div class="error-templates">
              <span class="text-danger" data-rule="required">–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ</span>
            </div>
            <button type="button" class="btn btn-success btn-sm" data-validate>üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
          </div>
          <div id="container-modal-status" class="form-status pending">–°—Ç–∞—Ç—É—Å: –û–∂–∏–¥–∞–Ω–∏–µ...</div>
        </div>
      </div>

      <!-- –ö–Ω–æ–ø–∫–∏ –∞–≤—Ç–æ-—Ç–µ—Å—Ç–∞ -->
      <div class="test-buttons mt-3">
        <button class="btn btn-success" id="btn-auto-test-section-2">
          ‚ñ∂Ô∏è –ê–≤—Ç–æ-—Ç–µ—Å—Ç —Å–µ–∫—Ü–∏–∏ 2
        </button>
      </div>

      <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∞ -->
      <div id="test-result-2" class="test-result pending">
        –û–∂–∏–¥–∞–Ω–∏–µ...
      </div>
    </div>

    <!-- ============================================================ -->
    <!-- –°–ï–ö–¶–ò–Ø 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–æ–ª—è—Ü–∏–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ -->
    <!-- ============================================================ -->
    <div class="test-section">
      <h3>üìç –°–µ–∫—Ü–∏—è 3: –ò–∑–æ–ª—è—Ü–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤</h3>

      <div class="expected-result">
        <h4>‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:</h4>
        <ul>
          <li>–ö–∞–∂–¥–∞—è —Ñ–æ—Ä–º–∞ –∏–º–µ–µ—Ç —Å–≤–æ–π —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞</li>
          <li><code>.data('modia-component')</code> –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä</li>
          <li>–ú–µ—Ç–æ–¥—ã –æ–¥–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ –¥—Ä—É–≥–æ–π</li>
          <li>–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã</li>
        </ul>
      </div>

      <div class="instruction-box">
        <strong>üìã –†—É—á–Ω–æ–π —Ç–µ—Å—Ç:</strong><br>
        1. –ù–∞–∂–º–∏—Ç–µ <code>üîç –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä—ã</code> ‚Üí –ø–æ–∫–∞–∂–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤<br>
        2. –ù–∞–∂–º–∏—Ç–µ <code>üîç –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥–∏</code> ‚Üí –ø–æ–∫–∞–∂–µ—Ç –∫–æ–Ω—Ñ–∏–≥–∏ –∫–∞–∂–¥–æ–≥–æ<br>
        3. –ò–∑–º–µ–Ω–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥ –æ–¥–Ω–æ–π —Ñ–æ—Ä–º—ã ‚Üí –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –¥—Ä—É–≥–∞—è –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å
      </div>

      <div class="form-comparison">
        <!-- –§–æ—Ä–º–∞ A -->
        <div>
          <h5>üîµ –§–æ—Ä–º–∞ A (live=false)</h5>
          <form id="form-a" data-component="validation" data-validation-live="false" class="test-form">
            <div class="form-group">
              <label for="field-a">–ü–æ–ª–µ A *</label>
              <input type="text" id="field-a" name="field_a" class="form-control" required>
            </div>
            <div class="error-templates">
              <span class="text-danger" data-rule="required">–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ</span>
            </div>
            <button type="submit" class="btn btn-primary btn-sm">üìù –ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
          </form>
        </div>

        <!-- –§–æ—Ä–º–∞ B -->
        <div>
          <h5>üü¢ –§–æ—Ä–º–∞ B (live=true)</h5>
          <form id="form-b" data-component="validation" data-validation-live="true"
            data-validation-debounce-delay="500" class="test-form">
            <div class="form-group">
              <label for="field-b">–ü–æ–ª–µ B *</label>
              <input type="text" id="field-b" name="field_b" class="form-control" required>
            </div>
            <div class="error-templates">
              <span class="text-danger" data-rule="required">–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ</span>
            </div>
            <button type="submit" class="btn btn-success btn-sm">üìù –ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
          </form>
        </div>
      </div>

      <div class="test-buttons mt-3">
        <button class="btn btn-info" id="btn-check-instances">
          üîç –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä—ã
        </button>
        <button class="btn btn-info" id="btn-check-configs">
          üîç –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥–∏
        </button>
        <button class="btn btn-success" id="btn-auto-test-section-3">
          ‚ñ∂Ô∏è –ê–≤—Ç–æ-—Ç–µ—Å—Ç —Å–µ–∫—Ü–∏–∏ 3
        </button>
      </div>

      <div id="instances-info" class="registry-display">
        –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —ç–∫–∑–µ–º–ø–ª—è—Ä–∞—Ö: (–æ–∂–∏–¥–∞–Ω–∏–µ)
      </div>

      <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∞ -->
      <div id="test-result-3" class="test-result pending">
        –û–∂–∏–¥–∞–Ω–∏–µ...
      </div>
    </div>

    <!-- ============================================================ -->
    <!-- –ö–û–ù–°–û–õ–¨ –õ–û–ì–ì–ï–†–ê -->
    <!-- ============================================================ -->
    <div class="test-section">
      <h3>üìã –ö–æ–Ω—Å–æ–ª—å –ª–æ–≥–≥–µ—Ä–∞</h3>

      <div class="console-log-container">
        <button class="btn btn-sm btn-outline-secondary btn-copy-log" id="btn-copy-log">
          üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
        </button>
        <div class="event-log" id="console-log" style="max-height: 300px; overflow-y: auto;">
          <div class="text-muted"><small>[00:00:00] –ö–æ–Ω—Å–æ–ª—å –ª–æ–≥–≥–µ—Ä–∞ –≥–æ—Ç–æ–≤–∞...</small></div>
        </div>
      </div>

      <div class="test-buttons mt-2">
        <button class="btn btn-outline-secondary" id="btn-clear-log">üßπ –û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥</button>
      </div>
    </div>

    <!-- ============================================================ -->
    <!-- –ì–õ–û–ë–ê–õ–¨–ù–´–ï –ö–ù–û–ü–ö–ò -->
    <!-- ============================================================ -->
    <div class="test-buttons mt-4">
      <button class="btn btn-success btn-lg" id="btn-auto-test-all">
        ‚ñ∂Ô∏è –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–≤—Ç–æ-—Ç–µ—Å—Ç –≤—Å–µ—Ö —Å–µ–∫—Ü–∏–π
      </button>
    </div>

    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <div class="mt-4">
      <a href="test-03-live-validation.html" class="btn btn-outline-secondary">
        ‚Üê –ü—Ä–µ–¥—ã–¥—É—â–∏–π —Ç–µ—Å—Ç: Live-–≤–∞–ª–∏–¥–∞—Ü–∏—è
      </a>
      <a href="test-05-error-handling.html" class="btn btn-outline-primary">
        ‚Üí –°–ª–µ–¥—É—é—â–∏–π —Ç–µ—Å—Ç: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
      </a>
    </div>
  </div>

  <!-- ‚úÖ Modia Index (3 —É—Ä–æ–≤–Ω—è –≤–≤–µ—Ä—Ö!) -->
  <script type="module" src="../../../modia/index.js"></script>

  <!-- ‚úÖ –¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç -->
  <script type="module">
    // ============================================================
    // –£–¢–ò–õ–ò–¢–´
    // ============================================================

    function log(message, type = 'info') {
      const $log = $('#console-log');
      const timestamp = new Date().toLocaleTimeString('ru-RU');
      const color = type === 'error' ? 'text-danger'
        : type === 'success' ? 'text-success'
          : 'text-muted';
      $log.append(`<div class="${color}"><small>[${timestamp}] ${message}</small></div>`);
      $log.scrollTop($log[0].scrollHeight);
      console.log(`[Multiple Forms Test] ${message}`);
    }

    function sleep(ms) {
      return new Promise(resolve => setTimeout(resolve, ms));
    }

    function setFormStatus(formId, status, message) {
      const $status = $(`#${formId}-status`);
      $status.removeClass('success error pending').addClass(status);
      $status.text(`–°—Ç–∞—Ç—É—Å: ${message}`);
    }

    // ============================================================
    // –ö–û–ü–ò–†–û–í–ê–ù–ò–ï –õ–û–ì–ê –í –ë–£–§–ï–† –û–ë–ú–ï–ù–ê (—Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –ø–µ—Ä–µ–Ω–æ—Å–æ–≤)
    // ============================================================

    function copyLogToClipboard() {
      const $log = $('#console-log');

      // ‚úÖ –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—Å—Ç —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –ø–µ—Ä–µ–Ω–æ—Å–æ–≤ —Å—Ç—Ä–æ–∫
      const lines = [];
      $log.find('div').each(function () {
        lines.push($(this).text().trim());
      });
      const text = lines.join('\n');

      if (!text) {
        log('‚ùå –ù–µ—á–µ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å ‚Äî –ª–æ–≥ –ø—É—Å—Ç', 'error');
        return false;
      }

      if (navigator.clipboard && window.isSecureContext) {
        navigator.clipboard.writeText(text).then(() => {
          log('‚úÖ –õ–æ–≥ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞', 'success');
          const $btn = $('#btn-copy-log');
          const originalText = $btn.text();
          $btn.text('‚úÖ –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!').prop('disabled', true);
          setTimeout(() => {
            $btn.text(originalText).prop('disabled', false);
          }, 2000);
        }).catch(err => {
          log(`‚ùå –û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è: ${err.message}`, 'error');
        });
      } else {
        const $textarea = $('<textarea>').val(text).css({
          position: 'absolute',
          left: '-9999px',
          top: '-9999px'
        }).appendTo('body');

        $textarea[0].select();
        try {
          document.execCommand('copy');
          log('‚úÖ –õ–æ–≥ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞ (fallback)', 'success');
        } catch (err) {
          log(`‚ùå –û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è (fallback): ${err.message}`, 'error');
        }
        $textarea.remove();
      }

      return true;
    }

    // ============================================================
    // –°–ï–ö–¶–ò–Ø 1: –î–≤–µ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ —Ñ–æ—Ä–º—ã
    // ============================================================

    $(document).ready(function () {
      log('DOM –≥–æ—Ç–æ–≤, –æ–∂–∏–¥–∞–Ω–∏–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ Modia...', 'info');

      setTimeout(function () {
        log('Modia –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω', 'success');

        const $formReg = $('#form-registration');
        const $formLogin = $('#form-login');
        const compReg = $formReg.data('modia-component');
        const compLogin = $formLogin.data('modia-component');

        if (compReg && compLogin) {
          log(`‚úÖ –ù–∞–π–¥–µ–Ω–æ 2 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è + –í—Ö–æ–¥`, 'success');
          log(`   –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è: live=${compReg.config.live}`, 'info');
          log(`   –í—Ö–æ–¥: live=${compLogin.config.live}`, 'info');
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –§–æ—Ä–º—ã 1
        $formReg.on('validation:invalid', function (e, data) {
          setFormStatus('form-registration', 'error', `–û—à–∏–±–æ–∫: ${data.errors.length}`);
        });
        $formReg.on('validation:valid', function () {
          setFormStatus('form-registration', 'success', '–§–æ—Ä–º–∞ –≤–∞–ª–∏–¥–Ω–∞!');
        });

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –§–æ—Ä–º—ã 2
        $formLogin.on('validation:invalid', function (e, data) {
          setFormStatus('form-login', 'error', `–û—à–∏–±–æ–∫: ${data.errors.length}`);
        });
        $formLogin.on('validation:valid', function () {
          setFormStatus('form-login', 'success', '–§–æ—Ä–º–∞ –≤–∞–ª–∏–¥–Ω–∞!');
        });
      }, 500);
    });

    // ============================================================
    // –°–ï–ö–¶–ò–Ø 2: –§–æ—Ä–º–∞ + –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
    // ============================================================

    $(document).ready(function () {
      setTimeout(function () {
        const $form = $('#form-regular');
        const $container = $('#container-modal');
        const compForm = $form.data('modia-component');
        const compContainer = $container.data('modia-component');

        if (compForm && compContainer) {
          log(`‚úÖ –ù–∞–π–¥–µ–Ω–æ 2 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞: form + div`, 'success');
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è —Ñ–æ—Ä–º—ã
        $form.on('validation:invalid', function (e, data) {
          setFormStatus('form-regular', 'error', `–û—à–∏–±–æ–∫: ${data.errors.length}`);
        });
        $form.on('validation:valid', function () {
          setFormStatus('form-regular', 'success', '–§–æ—Ä–º–∞ –≤–∞–ª–∏–¥–Ω–∞!');
        });

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
        $container.on('validation:manual-check', function (e, data) {
          if (data.isValid) {
            setFormStatus('container-modal', 'success', '–í–∞–ª–∏–¥–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞!');
          } else {
            setFormStatus('container-modal', 'error', '–ï—Å—Ç—å –æ—à–∏–±–∫–∏');
          }
        });
      }, 500);
    });

    // ============================================================
    // –°–ï–ö–¶–ò–Ø 3: –ò–∑–æ–ª—è—Ü–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤
    // ============================================================

    $(document).ready(function () {
      setTimeout(function () {
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤
        $('#btn-check-instances').on('click', function () {
          const compA = $('#form-a').data('modia-component');
          const compB = $('#form-b').data('modia-component');

          let info = `–ù–∞–π–¥–µ–Ω–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤: 2\n`;
          info += `–§–æ—Ä–º–∞ A: ${compA ? '‚úÖ' : '‚ùå'} –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω\n`;
          info += `–§–æ—Ä–º–∞ B: ${compB ? '‚úÖ' : '‚ùå'} –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω\n`;
          info += `–≠—Ç–æ —Ä–∞–∑–Ω—ã–µ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã: ${compA !== compB ? '‚úÖ' : '‚ùå'}\n`;

          $('#instances-info').text(info);
          log('üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞', 'info');
        });

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥–æ–≤
        $('#btn-check-configs').on('click', function () {
          const compA = $('#form-a').data('modia-component');
          const compB = $('#form-b').data('modia-component');

          let info = `–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –§–æ—Ä–º–∞ A:\n`;
          info += JSON.stringify(compA?.config, null, 2) + `\n\n`;
          info += `–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –§–æ—Ä–º–∞ B:\n`;
          info += JSON.stringify(compB?.config, null, 2);

          $('#instances-info').text(info);
          log('üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥–æ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞', 'info');
        });
      }, 500);
    });

    // ============================================================
    // –ê–í–¢–û-–¢–ï–°–¢ –°–ï–ö–¶–ò–ò 1
    // ============================================================

    $('#btn-auto-test-section-1').on('click', async function () {
      const $btn = $(this);
      $btn.prop('disabled', true).text('‚è≥ –¢–µ—Å—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è...');

      try {
        log('=== –ê–≤—Ç–æ-—Ç–µ—Å—Ç —Å–µ–∫—Ü–∏–∏ 1: –ù–∞—á–∞–ª–æ ===', 'info');

        const compReg = $('#form-registration').data('modia-component');
        const compLogin = $('#form-login').data('modia-component');

        // –®–∞–≥ 1: –ü—É—Å—Ç–∞—è –§–æ—Ä–º–∞ 1 ‚Üí –æ—à–∏–±–∫–∞ —Ç–æ–ª—å–∫–æ –≤ –Ω–µ–π
        log('–®–∞–≥ 1: –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—É—Å—Ç–æ–π –§–æ—Ä–º—ã 1...', 'info');
        $('#form-registration')[0].reset();
        compReg.clearErrors();

        // ‚úÖ –ó–∞–ø–æ–ª–Ω—è–µ–º Form 2, —á—Ç–æ–±—ã –æ–Ω–∞ –±—ã–ª–∞ –≤–∞–ª–∏–¥–Ω–∞
        $('#login-email').val('user@example.com');
        $('#login-password').val('password123');

        await sleep(300);

        const isValidReg1 = compReg.validate();
        const isValidLogin1 = compLogin.validate();

        if (!isValidReg1 && isValidLogin1) {
          log('‚úÖ –®–∞–≥ 1: –û—à–∏–±–∫–∞ —Ç–æ–ª—å–∫–æ –≤ –§–æ—Ä–º–µ 1', 'success');
        } else {
          throw new Error(`–§–æ—Ä–º—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã: Reg=${isValidReg1}, Login=${isValidLogin1}`);
        }

        await sleep(500);

        // –®–∞–≥ 2: –ó–∞–ø–æ–ª–Ω–µ–Ω–Ω–∞—è –§–æ—Ä–º–∞ 2 ‚Üí —É—Å–ø–µ—Ö —Ç–æ–ª—å–∫–æ –≤ –Ω–µ–π
        log('–®–∞–≥ 2: –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –§–æ—Ä–º—ã 2...', 'info');
        $('#login-email').val('user@example.com');
        $('#login-password').val('password123');
        await sleep(300);

        const isValidReg2 = compReg.validate();
        const isValidLogin2 = compLogin.validate();

        if (!isValidReg2 && isValidLogin2) {
          log('‚úÖ –®–∞–≥ 2: –£—Å–ø–µ—Ö —Ç–æ–ª—å–∫–æ –≤ –§–æ—Ä–º–µ 2', 'success');
        } else {
          throw new Error('–§–æ—Ä–º—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã');
        }

        log('=== –ê–≤—Ç–æ-—Ç–µ—Å—Ç —Å–µ–∫—Ü–∏–∏ 1: –£—Å–ø–µ—à–Ω–æ ===', 'success');
        $('#test-result-1').removeClass('pending').addClass('pass')
          .text('‚úÖ –ê–≤—Ç–æ-—Ç–µ—Å—Ç –ø—Ä–æ–π–¥–µ–Ω');

      } catch (error) {
        log(`‚ùå –ê–≤—Ç–æ-—Ç–µ—Å—Ç –ø—Ä–æ–≤–∞–ª–µ–Ω: ${error.message}`, 'error');
        $('#test-result-1').removeClass('pending').addClass('fail')
          .text(`‚ùå –û—à–∏–±–∫–∞: ${error.message}`);
      } finally {
        $btn.prop('disabled', false).text('‚ñ∂Ô∏è –ê–≤—Ç–æ-—Ç–µ—Å—Ç —Å–µ–∫—Ü–∏–∏ 1');
      }
    });

    // ============================================================
    // –ê–í–¢–û-–¢–ï–°–¢ –°–ï–ö–¶–ò–ò 2
    // ============================================================

    $('#btn-auto-test-section-2').on('click', async function () {
      const $btn = $(this);
      $btn.prop('disabled', true).text('‚è≥ –¢–µ—Å—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è...');

      try {
        log('=== –ê–≤—Ç–æ-—Ç–µ—Å—Ç —Å–µ–∫—Ü–∏–∏ 2: –ù–∞—á–∞–ª–æ ===', 'info');

        const compForm = $('#form-regular').data('modia-component');
        const compContainer = $('#container-modal').data('modia-component');

        // –®–∞–≥ 1: –ü—É—Å—Ç–∞—è —Ñ–æ—Ä–º–∞ ‚Üí –æ—à–∏–±–∫–∞
        log('–®–∞–≥ 1: –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—É—Å—Ç–æ–π —Ñ–æ—Ä–º—ã...', 'info');
        $('#form-regular')[0].reset();
        compForm.clearErrors();
        await sleep(300);

        const isValidForm = compForm.validate();
        if (!isValidForm) {
          log('‚úÖ –®–∞–≥ 1: –§–æ—Ä–º–∞ –Ω–µ –≤–∞–ª–∏–¥–Ω–∞', 'success');
        } else {
          throw new Error('–ü—É—Å—Ç–∞—è —Ñ–æ—Ä–º–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –Ω–µ–≤–∞–ª–∏–¥–Ω–∞');
        }

        await sleep(500);

        // –®–∞–≥ 2: –ó–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä ‚Üí —É—Å–ø–µ—Ö
        log('–®–∞–≥ 2: –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞...', 'info');
        $('#modal-name').val('–¢–µ—Å—Ç');
        await sleep(300);

        const isValidContainer = compContainer.validate();
        if (isValidContainer) {
          log('‚úÖ –®–∞–≥ 2: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤–∞–ª–∏–¥–µ–Ω', 'success');
        } else {
          throw new Error('–ó–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∞–ª–∏–¥–µ–Ω');
        }

        log('=== –ê–≤—Ç–æ-—Ç–µ—Å—Ç —Å–µ–∫—Ü–∏–∏ 2: –£—Å–ø–µ—à–Ω–æ ===', 'success');
        $('#test-result-2').removeClass('pending').addClass('pass')
          .text('‚úÖ –ê–≤—Ç–æ-—Ç–µ—Å—Ç –ø—Ä–æ–π–¥–µ–Ω');

      } catch (error) {
        log(`‚ùå –ê–≤—Ç–æ-—Ç–µ—Å—Ç –ø—Ä–æ–≤–∞–ª–µ–Ω: ${error.message}`, 'error');
        $('#test-result-2').removeClass('pending').addClass('fail')
          .text(`‚ùå –û—à–∏–±–∫–∞: ${error.message}`);
      } finally {
        $btn.prop('disabled', false).text('‚ñ∂Ô∏è –ê–≤—Ç–æ-—Ç–µ—Å—Ç —Å–µ–∫—Ü–∏–∏ 2');
      }
    });

    // ============================================================
    // –ê–í–¢–û-–¢–ï–°–¢ –°–ï–ö–¶–ò–ò 3
    // ============================================================

    $('#btn-auto-test-section-3').on('click', async function () {
      const $btn = $(this);
      $btn.prop('disabled', true).text('‚è≥ –¢–µ—Å—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è...');

      try {
        log('=== –ê–≤—Ç–æ-—Ç–µ—Å—Ç —Å–µ–∫—Ü–∏–∏ 3: –ù–∞—á–∞–ª–æ ===', 'info');

        const compA = $('#form-a').data('modia-component');
        const compB = $('#form-b').data('modia-component');

        // –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
        log('–®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏...', 'info');
        if (!compA || !compB) {
          throw new Error('–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã');
        }

        // –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∫–æ–Ω—Ñ–∏–≥–æ–≤
        log('–®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥–æ–≤...', 'info');
        if (compA.config.live !== false) {
          throw new Error('–§–æ—Ä–º–∞ A –¥–æ–ª–∂–Ω–∞ –∏–º–µ—Ç—å live=false');
        }
        if (compB.config.live !== true) {
          throw new Error('–§–æ—Ä–º–∞ B –¥–æ–ª–∂–Ω–∞ –∏–º–µ—Ç—å live=true');
        }

        // –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
        log('–®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏...', 'info');
        $('#field-a').val('');
        $('#field-b').val('–∑–∞–ø–æ–ª–Ω–µ–Ω–æ');
        await sleep(300);

        const validA = compA.validate();
        const validB = compB.validate();

        if (!validA && validB) {
          log('‚úÖ –®–∞–≥ 3: –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–∞', 'success');
        } else {
          throw new Error('–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–π');
        }

        log('=== –ê–≤—Ç–æ-—Ç–µ—Å—Ç —Å–µ–∫—Ü–∏–∏ 3: –£—Å–ø–µ—à–Ω–æ ===', 'success');
        $('#test-result-3').removeClass('pending').addClass('pass')
          .text('‚úÖ –ê–≤—Ç–æ-—Ç–µ—Å—Ç –ø—Ä–æ–π–¥–µ–Ω');

      } catch (error) {
        log(`‚ùå –ê–≤—Ç–æ-—Ç–µ—Å—Ç –ø—Ä–æ–≤–∞–ª–µ–Ω: ${error.message}`, 'error');
        $('#test-result-3').removeClass('pending').addClass('fail')
          .text(`‚ùå –û—à–∏–±–∫–∞: ${error.message}`);
      } finally {
        $btn.prop('disabled', false).text('‚ñ∂Ô∏è –ê–≤—Ç–æ-—Ç–µ—Å—Ç —Å–µ–∫—Ü–∏–∏ 3');
      }
    });

    // ============================================================
    // –ì–õ–û–ë–ê–õ–¨–ù–´–ô –ê–í–¢–û-–¢–ï–°–¢
    // ============================================================

    $('#btn-auto-test-all').on('click', async function () {
      const $btn = $(this);
      $btn.prop('disabled', true).text('‚è≥ –¢–µ—Å—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è...');

      log('=== –ì–õ–û–ë–ê–õ–¨–ù–´–ô –ê–í–¢–û-–¢–ï–°–¢: –ù–∞—á–∞–ª–æ ===', 'info');

      await $('#btn-auto-test-section-1').click();
      await sleep(1000);
      await $('#btn-auto-test-section-2').click();
      await sleep(1000);
      await $('#btn-auto-test-section-3').click();

      log('=== –ì–õ–û–ë–ê–õ–¨–ù–´–ô –ê–í–¢–û-–¢–ï–°–¢: –ó–∞–≤–µ—Ä—à—ë–Ω ===', 'success');

      $btn.prop('disabled', false).text('‚ñ∂Ô∏è –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–≤—Ç–æ-—Ç–µ—Å—Ç –≤—Å–µ—Ö —Å–µ–∫—Ü–∏–π');
    });

    // ============================================================
    // –û–ë–†–ê–ë–û–¢–ß–ò–ö–ò –õ–û–ì–ê
    // ============================================================

    $('#btn-copy-log').on('click', function (e) {
      e.preventDefault();
      copyLogToClipboard();
    });

    $('#btn-clear-log').on('click', function () {
      $('#console-log').html('<div class="text-muted"><small>[00:00:00] –õ–æ–≥ –æ—á–∏—â–µ–Ω</small></div>');
      log('–õ–æ–≥ –æ—á–∏—â–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º', 'info');
    });

    // ============================================================
    // –ì–õ–û–ë–ê–õ–¨–ù–´–ô –û–ë–†–ê–ë–û–¢–ß–ò–ö –û–®–ò–ë–û–ö
    // ============================================================

    window.addEventListener('error', function (e) {
      log(`‚ùå –ì–ª–æ–±–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞: ${e.message} –≤ ${e.filename}:${e.lineno}`, 'error');
    });

    window.addEventListener('unhandledrejection', function (e) {
      log(`‚ùå –ù–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–∞—è Promise-–æ—à–∏–±–∫–∞: ${e.reason}`, 'error');
    });
  </script>
</body>

</html>